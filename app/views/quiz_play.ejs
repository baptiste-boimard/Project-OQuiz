<%- include('partials/header') %>

<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <h2 class="h1 display-4"><%= quiz.title %></h2>
    <p class="lead"><%= quiz.description %></p>
    <p class="font-weight-bold">par <%= quiz.author.fullname %></p>
    <p class="lead"><%= quiz.questions.length %> questions</p>
</div>

<div class="row">

    <% for (let tag of quiz.tags) { %>
    <div class="col-3 p-4 text-center">
        <a class="btn btn-block btn-lg tag tag--<%= tag.name.toLowerCase() %>" href="/quizzes/tag/<%= tag.id %>">
            <%= tag.name %>
        </a>
    </div>
    <% } %>

</div>


<form action="/quiz/quiz_result/<%= quiz.id %> " method ="post" class="row"
        
        <% for(let question of quiz.questions) { %>
        <div class="col-12">
            <label>
            <label class="badge level level--<%= question.level.name.toLowerCase() %>"><%= question.level.name %></label>
            <h4>
                <%= question.question %>  
            </h4>
    
            <ul class="list-unstyled ml-5">
                
                    
                    <% for (let index in question.answers.sort((a,b) => Math.random() > 0.5 ? -1 : 1)) { %>

                    <li> 
                        <input type="radio" name="question_<%= question.id %>" id="answer_<%= question.id %>_<%= index.id %>" value="<%= question.answers[index].id %>">
                        <label for="answer_<%= question.id %>_<%= index.id %>"><%= parseInt(index) + 1 %>. <%= question.answers[index].description %></label>
                    </li>
                  
                    <% } %>
            </ul>
        </div>
        
        <% } %>
    </div>

        <div class="form-group text-center">
            <button type="submit" class="btn btn-primary">Envoyer</button>
        </div>

</form>






<%- include('partials/footer') %>